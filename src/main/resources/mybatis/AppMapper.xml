<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="AppMapper">
	
	
	<!-- 查询亲情号码 -->
	<resultMap id="mRelativePhoneMap" 				type="relativePhoneModel">
		<result property="id"  						column="id"/>
		<result property="userId"  					column="userId"/>
		<result property="type"  					column="relativeType"/>
		<result property="name"  					column="relativeName"/>
		<result property="cellPhone"  				column="relativeCellPhone"/>
		<result property="tel"  					column="relativeTel"/>
		<result property="address"  				column="relativeAddr"/>
	</resultMap>
	
	
	<!-- 查询亲情号码总数 -->
	<select id="AppMapper.queryRelativePhoneInfoCnt" 	parameterType="queryModel"	resultType="long">
		<![CDATA[
			select count(1) as cnt 
			from tab_relative_phone a
			where a.userId =  #{userId}
		]]>
	</select>
	
	
	<!-- 分页查询亲情号码 -->
	<select id="AppMapper.queryRelativePhoneInfo" 	parameterType="queryModel"	resultMap="mRelativePhoneMap">
		<![CDATA[
			select a.id, a.userId, a.relativeName, a.relativeType, a.relativeCellPhone, a.relativeTel, a.relativeAddr
			from tab_relative_phone a
			where a.userId =  #{userId}
			order by a.relativeName
			limit #{startNum}, #{rows}
		]]>
	</select>
	
</mapper>
